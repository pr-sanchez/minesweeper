!function(){"use strict";var e,n={4048:function(e,n,t){var s=t(3727),r=t(3935),i=(t(3948),t(7294)),o=t(5697),l=t.n(o),a=(0,i.createContext)(),c=(e,n)=>{switch(n.type){case"RESET":return{...e,boardArea:0,row:0,column:0,hiddenMines:0,difficulty:""};case"CUSTOM":return{...e,boardArea:n.payload.boardArea,row:n.payload.row,column:n.payload.column,hiddenMines:n.payload.hiddenMines,difficulty:"custom"};case"EASY":return{...e,boardArea:25,row:5,column:5,hiddenMines:3,difficulty:"easy"};case"MEDIUM":return{...e,boardArea:36,row:6,column:6,hiddenMines:10,difficulty:"medium"};case"HARD":return{...e,boardArea:49,row:7,column:7,hiddenMines:20,difficulty:"hard"};default:return e}},u=t(5893);const d={children:l().node.isRequired},h=e=>{const[n,t]=(0,i.useReducer)(c,{boardArea:0,row:0,column:0,hiddenMines:0,difficulty:""}),{children:s}=e;return(0,u.jsx)(a.Provider,{value:{boardArea:n.boardArea,row:n.row,column:n.column,hiddenMines:n.hiddenMines,difficulty:n.difficulty,dispatch:t},children:s})};h.propTypes=d;var f=h,m=t(5977),p=t(4184),x=t.n(p);const j={className:l().string,onClick:l().func,children:l().node.isRequired,title:l().string};function b({className:e,onClick:n,title:t,children:s}){return(0,u.jsx)("button",{title:t,type:"button",onClick:function(){n()},className:x()("_1eHSu2KQfS4KJ2ePmkiH2L",e),children:s})}b.propTypes=j,b.defaultProps={className:null,onClick:()=>{},title:""};var y=b,v="WTWlJgH5azHDId7HGzaUt",g="UZqFLF83_KOV7irhzCrHq",k=function(){const[e,n]=(0,i.useState)(0),[t,s]=(0,i.useState)(0),[r,o]=(0,i.useState)(0),[l,c]=(0,i.useState)(""),d=(0,i.useContext)(a),h=(0,m.k6)(),[f,p]=(0,i.useState)(!1);function x(e,n){d.dispatch({type:e,payload:n}),"RESET"!==e&&h.push("/board")}return(0,i.useEffect)((()=>{x("RESET")}),[]),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"ZVWpUyndP7TUGXiT1eBrT",children:[(0,u.jsx)("h2",{children:" SELECT LEVEL"}),(0,u.jsx)(y,{className:v,onClick:function(){x("EASY")},children:"EASY"}),(0,u.jsx)(y,{className:v,onClick:function(){x("MEDIUM")},children:"MEDIUM"}),(0,u.jsx)(y,{className:v,onClick:function(){x("HARD")},children:"HARD"}),(0,u.jsx)(y,{title:"customSetupButton",className:v,onClick:function(){p(!0)},children:"CUSTOM"})]}),f?(0,u.jsxs)("div",{title:"customSetupForm",className:"_2V5n9KSla9GYwlu7XRt3FQ",children:[(0,u.jsx)("h3",{className:"_2C3CM0vCg5Bw2Bxk7H-CTR",children:l}),(0,u.jsx)("h4",{children:" please enter the numbers of rows:"}),(0,u.jsx)("input",{title:"boardRow",className:g,onChange:function(e){n(e.target.value)},value:e,type:"number",min:"1",max:"100"}),(0,u.jsx)("h4",{children:" please enter the numbers of columns:"}),(0,u.jsx)("input",{title:"boardColumn",className:g,onChange:function(e){s(e.target.value)},value:t,type:"number",min:"1",max:"100"}),(0,u.jsx)("h4",{children:" please enter the number of hidden mines:"}),(0,u.jsx)("input",{title:"boardHiddenMines",className:g,onChange:function(e){o(e.target.value)},value:r,type:"number",min:"1",max:e*t-2}),(0,u.jsx)(y,{title:"customSetupSubmitButton",className:v,onClick:function(){const n=e*t;0===e||0===t||0===r?c("None of the options could be in blank"):n>1e3?c("set board area that is calculated with row * column less than 1000"):x("CUSTOM",{boardArea:n,row:Number(e),column:Number(t),hiddenMines:Number(r)})},children:"SUBMIT"})]}):null]})},S={Modal:"GI4DpczQ0MK16AeRgzud-",Buttons:"_28k5wfvbwYid2oWoU-EjJi",Button:"_2R7UxsWhyQkLjER9gsZTTp",TotalMines:"_3P9Yuyi6STC31tiWu6eV6c",Board:"_3WVroy5DxIgwkIZj-WAZsO",Row:"_1-LIjvNcR_mUh6t32LSEfD",Tile:"_2sKvAxjyjkAc2xBkkcomdD",isTileRevealed:"_28FnIsPf6gXaIzLaypB5pa"};const N={tile:l().shape({hasBomb:l().bool,key:l().number,nearBombsCount:l().number,hasFlag:l().bool}).isRequired,revealedTiles:l().arrayOf(l().number).isRequired,onRevealTile:l().func.isRequired,onSetFlag:l().func.isRequired,onSetGameOver:l().func.isRequired};function C({tile:e,onRevealTile:n,onSetFlag:t,onSetGameOver:s,revealedTiles:r}){function i(){e.hasFlag||(n(e),e.hasBomb&&s(!0))}return(0,u.jsx)("button",{type:"button",className:x()(S.Tile,r.includes(e.key)?S.isTileRevealed:null),onClick:i,onContextMenu:function(n){n.preventDefault(),t(e)},onKeyPress:i,children:function(){if(r.includes(e.key)){if(e.hasBomb)return"ðŸ’£";if(e.nearBombsCount>0)return e.nearBombsCount}return e.hasFlag?"ðŸš©":null}()},e.key)}C.propTypes=N;var T=C,w=function(){const[e,n]=(0,i.useState)([]),[t,s]=(0,i.useState)([]),[r,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[d,h]=(0,i.useState)(0),[f,p]=(0,i.useState)([]),j=(0,i.useContext)(a),{boardArea:b,row:v,column:g,hiddenMines:k,difficulty:N}=j,C=(0,m.k6)();function w(n){let t,s,r,i,o,l,a,c,u=0;const d=[n.key];function h(e){null!=e&&(d.push(e.key),e.hasBomb&&!E(e)&&(u+=1))}for(let u=0;u<e.length;u+=1){const d=e[u],f=e[u+1],m=e[u-1],p=d.findIndex((e=>e.key===n.key));if(-1!==p){for(let e=0;e<d.length;e+=1){i=null==m?void 0:m[p-1],a=null==m?void 0:m[p],r=null==m?void 0:m[p+1],t=d[p+1],o=null==f?void 0:f[p+1],c=null==f?void 0:f[p],l=null==f?void 0:f[p-1],s=d[p-1],h(i),h(a),h(r),h(t),h(o),h(c),h(l),h(s);break}break}}return{coords:d,nearBombsCount:u}}function M(e,n){let t;for(let s=0;s<e.length;s+=1){const r=e[s];for(let e=0;e<r.length;e+=1){const s=r[e];if(s.key===n){t=s;break}}}return t}function B(e,n){const t=[...n],s=w(e),{nearBombsCount:r}=s;return t.map((n=>n.map((n=>n.key===e.key?{...n,nearBombsCount:r}:n))))}function R(e){return e.toLocaleString("en-US",{hour12:!0})}function E(e){return t.includes(e.key)}function A(){const e=new Date;p([...f,e])}function O(r){r.hasBomb?s([...t,r.key]):r.nearBombsCount>0==0&&function(r){const i=w(r),{coords:o}=i;let l=[...e];const a=[];for(let n=0;n<o.length;n+=1){const t=o[n],s=M(e,t);l=B(s,l),E(s)||s.hasFlag||s.hasBomb||a.push(t)}n(l),s([...t,...a])}(r)}function F(t){if(!E(t)){const s=[...e].map((e=>e.map((e=>e.key===t.key?e.hasFlag?(h(d+1),{...e,hasFlag:!1}):(h(d-1),{...e,hasFlag:!0}):e))));n(s)}}function _(){o(!0),A()}function U(){C.push("/")}function I(){C.push("/scores")}function W(e,n){return(0,u.jsxs)("div",{className:x()(S.Modal,n),children:[(0,u.jsx)("h2",{className:S.Text,children:e}),(0,u.jsx)("div",{className:S.Buttons,children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y,{className:S.Button,onClick:U,children:"Retry"}),(0,u.jsx)(y,{className:S.Button,onClick:I,children:"Scores"})]})})]})}return(0,i.useEffect)((()=>{(r||l)&&function(){var e;const n=Date.now(),t=R(f[0]),s=R(f[1]),i="".concat((c=f[0],(f[1]-c)/1e3)," seconds"),o={id:n,startTime:t,endTime:s,difficulty:N,timeSpent:i,status:r?"Lost":"Won"},l=localStorage.getItem("gameHistory"),a=null!==(e=JSON.parse(l))&&void 0!==e?e:[];var c;a.push(o);const u=JSON.stringify(a);localStorage.setItem("gameHistory",u)}()}),[r,l]),(0,i.useEffect)((()=>{r||e.flat().length-t.length===k&&(A(),c(!0))}),[t]),(0,i.useEffect)((()=>{0===b&&C.push("/"),function(){const e=new Date;p([...f,e])}(),h(k);const e=function(e){const n=[...e],t=[];let s=[],r=0;for(let e=0;e<v;e+=1){for(let e=0;e<g;e+=1){const e=n[r];s=[...s,e],r+=1}t.push(s),s=[]}return t}(function(e){const n=[...e].sort((()=>.5-Math.random())).slice(0,k);return e.map((e=>{const t=n.find((n=>n.key===e.key));return null!=t?{...t,hasBomb:!0}:e}))}(function(){const e=[];for(let n=0;n<b;n+=1)e.push({key:n,hasBomb:!1,hasFlag:!1,nearBombsCount:0});return e}()));n(e)}),[]),(0,u.jsxs)("div",{children:[r?W("GAME OVER"):null,l?W("YOU WON!"):null,(0,u.jsx)("div",{className:S.TotalMines,children:(0,u.jsxs)("h1",{children:["Total Mines: ",d]})}),function(){if(e.length>0==0)return null;const n=e.map(((e,n)=>{return s=e.map((e=>{return n=e,(0,u.jsx)(T,{tile:n,onRevealTile:O,onSetFlag:F,onSetGameOver:_,revealedTiles:t},n.key);var n})),r=n,(0,u.jsx)("div",{className:S.Row,children:s},r);var s,r}));return(0,u.jsx)("div",{className:S.Board,children:n})}()]})},M=function(){return(0,u.jsx)(w,{})},B="_1m7xD8Q3D8WARoJGtCpCJf",R=function(){const[e,n]=(0,i.useState)([]),t=(0,m.k6)();function s(){return e.length>0}function r(e){return"lost"===e.toLowerCase()?"_1uXJefWkM5eswgTLWkuRdU":"_2nrDMFAqYqW6bl1IsskXPq"}return(0,i.useEffect)((()=>{const e=function(){const e=JSON.parse(localStorage.getItem("gameHistory"));return null!==e?function(e){return e.sort(((e,n)=>e.difficulty>n.difficulty?1:e.difficulty<n.difficulty?-1:e.timeSpent>n.timeSpent?1:e.timeSpent<n.timeSpent?-1:0))}(e):[]}();n(e)}),[]),(0,u.jsxs)("div",{className:"_2KOFBqP-VH15Kq9JCMPqaS",children:[s()?(0,u.jsx)(y,{title:"clearGameHistory",className:"_3QU2iet85rUeWjvdiVvFPX",onClick:function(){localStorage.removeItem("gameHistory"),t.go(0)},children:"Clear game history"}):null,s()?e.map((({id:e,startTime:n,endTime:t,difficulty:s,timeSpent:i,status:o})=>(0,u.jsxs)("ul",{className:"_28VldWJKsaPqUkbRY5tJEB",children:[(0,u.jsxs)("li",{className:B,children:[(0,u.jsx)("b",{children:"start time:"}),(0,u.jsxs)("div",{children:[" ",n]})]}),(0,u.jsxs)("li",{className:B,children:[(0,u.jsx)("b",{children:"end time: "}),(0,u.jsxs)("div",{children:[" ",t]})]}),(0,u.jsxs)("li",{className:B,children:[(0,u.jsx)("b",{children:"difficulty:"}),(0,u.jsxs)("div",{children:[" ",s]})]}),(0,u.jsxs)("li",{className:B,children:[(0,u.jsx)("b",{children:"Total time spent:"}),(0,u.jsxs)("div",{children:[" ",i]})]}),(0,u.jsxs)("li",{className:B,children:[(0,u.jsx)("b",{children:"Status:"}),(0,u.jsx)("div",{className:r(o),children:o})]})]},e))):(0,u.jsx)("h1",{title:"noGamesFoundText",children:"No games found! Go and play some games buddy!"})]})},E=function(){return(0,u.jsxs)(m.rs,{children:[(0,u.jsx)(m.AW,{exact:!0,path:"/",children:(0,u.jsx)(k,{})}),(0,u.jsx)(m.AW,{path:"/board",children:(0,u.jsx)(M,{})}),(0,u.jsx)(m.AW,{path:"/scores",children:(0,u.jsx)(R,{})})]})},A="_2jFTPkG6ViIhL092af1mEE",O=function(){return(0,u.jsxs)("div",{className:"_3FxyhmVJVLpK1v-MI1-00T",children:[(0,u.jsxs)("div",{className:"_18Fjk0jzjodHptcKMio-ic",children:[(0,u.jsx)(s.rU,{className:A,to:"/",children:"Setup"}),(0,u.jsx)(s.rU,{className:A,to:"/scores",children:"Scores"})]}),(0,u.jsx)("div",{className:"_5926XL2gng-E7IYjqtUtV",children:(0,u.jsx)("a",{target:"_blank",href:"https://github.com/pr-sanchez/minesweeper",rel:"noreferrer",children:"Github"})})]})},F=function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(O,{}),(0,u.jsx)(E,{})]})};(0,r.render)((0,u.jsx)(f,{children:(0,u.jsx)(s.VK,{children:(0,u.jsx)(F,{})})}),document.getElementById("root"))}},t={};function s(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}};return n[e](i,i.exports,s),i.exports}s.m=n,e=[],s.O=function(n,t,r,i){if(!t){var o=1/0;for(c=0;c<e.length;c++){t=e[c][0],r=e[c][1],i=e[c][2];for(var l=!0,a=0;a<t.length;a++)(!1&i||o>=i)&&Object.keys(s.O).every((function(e){return s.O[e](t[a])}))?t.splice(a--,1):(l=!1,i<o&&(o=i));l&&(e.splice(c--,1),n=r())}return n}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,r,i]},s.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(n,{a:n}),n},s.d=function(e,n){for(var t in n)s.o(n,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={179:0};s.O.j=function(n){return 0===e[n]};var n=function(n,t){var r,i,o=t[0],l=t[1],a=t[2],c=0;for(r in l)s.o(l,r)&&(s.m[r]=l[r]);for(a&&a(s),n&&n(t);c<o.length;c++)i=o[c],s.o(e,i)&&e[i]&&e[i][0](),e[o[c]]=0;s.O()},t=self.webpackChunkminesweeper=self.webpackChunkminesweeper||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var r=s.O(void 0,[71],(function(){return s(4048)}));r=s.O(r)}();
//# sourceMappingURL=main.d8e5e3f6c85f537fbac8.js.map